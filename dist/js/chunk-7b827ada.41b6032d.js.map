{"version":3,"sources":["webpack:///./src/views/Article.vue?0a31","webpack:///src/views/Article.vue","webpack:///./src/views/Article.vue?426d","webpack:///./src/views/Article.vue","webpack:///./src/views/Article.vue?5857"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","domProps","_s","detail","text","_v","staticStyle","attrs","share_info","with_guest","qr_card","nick_name","phone_contact","_e","staticRenderFns","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAYC,SAAS,CAAC,UAAYP,EAAIQ,GAAGR,EAAIS,OAAOC,SAAUV,EAAIS,OAAiB,WAAEL,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,UAAUP,EAAG,MAAM,CAACQ,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQC,MAAM,CAAC,IAAMb,EAAIS,OAAOK,WAAWC,WAAWC,QAAQ,IAAM,MAAMZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,SAASX,EAAIQ,GAAGR,EAAIS,OAAOK,WAAWC,WAAWE,cAAcb,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,MAAMX,EAAIQ,GAAGR,EAAIS,OAAOK,WAAWC,WAAWG,kBAAkBd,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIW,GAAG,mBAAmBX,EAAImB,QAC3tBC,EAAkB,G,uDCctB,GACE,WAAF,GACE,MAAF,GACE,KAHF,WAII,MAAJ,CACM,OAAN,GACM,SAAN,GACM,WAAN,GACM,SAAN,KAGE,MAAF,GACE,SAAF,GACE,QAAF,CACI,YADJ,iLAMA,mBANA,gBAGA,EAHA,EAGA,KACA,EAJA,EAIA,KAJA,EAKA,QAEA,MACA,gBACA,YACA,qBAEA,SACA,cACA,sBACA,WACA,4BAEA,kBACA,4HAEA,wBArBA,wGAyBI,IAzBJ,kKA0BA,2BA1BA,iEA+BA,wCACA,yCAhCA,gBA8BA,EA9BA,EA8BA,KAIA,MACA,2BAnCA,wGAsCI,QAtCJ,wKAuCA,qBACA,qBAEA,2BA1CA,iCA+CA,6HA/CA,gBA4CA,EA5CA,EA4CA,KACA,EA7CA,EA6CA,KACA,EA9CA,EA8CA,QA9CA,yCAqDA,8DArDA,iBAkDA,EAlDA,EAkDA,KACA,EAnDA,EAmDA,KACA,EApDA,EAoDA,QApDA,QAwDA,MACA,oBACA,cACA,uBACA,gBAGA,oBA/DA,yGAkEI,OAlEJ,0KAoEA,2CApEA,SAyEA,kCAzEA,gBAsEA,EAtEA,EAsEA,KACA,EAvEA,EAuEA,KAvEA,EAwEA,QAEA,MACA,YACA,SACA,cACA,8BACA,oBACA,sBACA,WACA,sBACA,wBACA,4BACA,6BArFA,mGA4FI,QA5FJ,WA4FM,IAAN,OACM,EAAN,oBACQ,IAAR,GACU,MAAV,qBACU,KAAV,wBACU,KAAV,iHACU,OAAV,wEAEA,2BACU,EAAV,2BACU,EAAV,2BAEU,EAAV,+BACU,EAAV,8BAEQ,EAAR,qBAGU,QAAV,2BAKE,QAhIF,WAiII,KAAJ,UACI,KAAJ,SACI,KAAJ,cACI,KAAJ,OAEE,QAtIF,cCfqb,I,wBCQjbC,EAAY,eACd,EACAtB,EACAqB,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAAyrB,EAAG","file":"js/chunk-7b827ada.41b6032d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\",domProps:{\"innerHTML\":_vm._s(_vm.detail.text)}}),(_vm.detail.share_info)?_c('div',{staticClass:\"flex flex-column flex-center flex-align-center\"},[_c('div',{staticClass:\"fz-13 c6\"},[_vm._v(\"联系微信\")]),_c('img',{staticStyle:{\"width\":\"30vw\",\"height\":\"30vw\"},attrs:{\"src\":_vm.detail.share_info.with_guest.qr_card,\"alt\":\"\"}}),_c('div',{staticClass:\"fz-13 c6\"},[_vm._v(\"优雅传播者：\"+_vm._s(_vm.detail.share_info.with_guest.nick_name))]),_c('div',{staticClass:\"fz-13 c6\"},[_vm._v(\"电话：\"+_vm._s(_vm.detail.share_info.with_guest.phone_contact))]),_c('div',{staticClass:\"fz-12 c9\"},[_vm._v(\"长按识别二维码添加微信\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"container\" v-html=\"detail.text\"></div>\r\n    <div v-if=\"detail.share_info\" class=\"flex flex-column flex-center flex-align-center\">\r\n      <div class=\"fz-13 c6\">联系微信</div>\r\n      <img style=\"width:30vw;height:30vw;\" :src=\"detail.share_info.with_guest.qr_card\" alt=\"\">\r\n      <div class=\"fz-13 c6\">优雅传播者：{{detail.share_info.with_guest.nick_name}}</div>\r\n      <div class=\"fz-13 c6\">电话：{{detail.share_info.with_guest.phone_contact}}</div>\r\n      <div class=\"fz-12 c9\">长按识别二维码添加微信</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import wx from \"weixin-js-sdk\";\r\n  export default {\r\n    components: {},\r\n    props: {},\r\n    data() {\r\n      return {\r\n        detail: \"\",\r\n        share_id: \"\",\r\n        share_info: \"\",\r\n        userInfo: {}\r\n      };\r\n    },\r\n    watch: {},\r\n    computed: {},\r\n    methods: {\r\n      async getUserInfo() {\r\n        let {\r\n          code,\r\n          data,\r\n          message\r\n        } = await axios.get(\"/user\");\r\n        if (code == 0) {\r\n          this.userInfo = data;\r\n          if (data.role == 3) {\r\n            this.share_id = data.id;\r\n          }\r\n        } else if (code == 401) {\r\n          this.isBuy = false;\r\n          this.$dialog.confirm({\r\n              title: \"提示\",\r\n              message: \"您还未授权登录，是否前往授权？\"\r\n            })\r\n            .then(res => {\r\n              window.location.href = `http://youya.chuncom.com/user/authorization?url=${encodeURIComponent(window.location.href)}`\r\n            })\r\n            .catch(e => {})\r\n          // this.$toast.fail(\"您还未授权登录，无法进行购买\")\r\n        }\r\n      },\r\n      async add() {\r\n        if (!this.$route.query.share_id) {\r\n          return;\r\n        }\r\n        let {\r\n          code\r\n        } = await window.axios.post(\"/user/superior/add\", {\r\n          superior_id: this.$route.query.share_id\r\n        });\r\n        if (code == 0) {\r\n          window.console.log(\"绑定成功\");\r\n        }\r\n      },\r\n      async getData() {\r\n        this.$toast.loading({\r\n          messages: \"加载中...\"\r\n        })\r\n        if (this.$route.query.share_id) {\r\n          var {\r\n            code,\r\n            data,\r\n            message\r\n          } = await axios.get(`/article/detail?id=${this.$route.query.id}&share_id=${ this.share_id || this.$route.query.share_id}`);\r\n        } else {\r\n          var {\r\n            code,\r\n            data,\r\n            message\r\n          } = await axios.get(`/article/detail?id=${this.$route.query.id}`);\r\n        }\r\n\r\n        if (code == 0) {\r\n          this.$toast.clear();\r\n          this.detail = data;\r\n          document.title = data.title\r\n          this.wxShare()\r\n          // data.share_info ? this.share_info = data.share_info : \"\";\r\n        } else {\r\n          this.$toast.fail(message)\r\n        }\r\n      },\r\n      async getSDK() {\r\n        // alert(location.href)\r\n        let href = encodeURIComponent(window.location.href)\r\n        let {\r\n          data,\r\n          code,\r\n          message\r\n        } = await axios.get('/config/jsjdk?url=' + href)\r\n        if (code == 0) {\r\n          wx.config({\r\n            debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n            appId: data.appId, // 必填，公众号的唯一标识\r\n            timestamp: Number(data.timestamp), // 必填，生成签名的时间戳\r\n            nonceStr: data.nonceStr, // 必填，生成签名的随机串\r\n            signature: data.signature, // 必填，签名，见附录1\r\n            jsApiList: [\r\n              'onMenuShareTimeline',\r\n              'onMenuShareAppMessage', //1.0分享到朋友圈\r\n              'updateAppMessageShareData', //1.4 分享到朋友\r\n              'updateTimelineShareData'\r\n            ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\r\n          })\r\n        } else {\r\n          // $weui.topTips(message, 3000);\r\n        }\r\n      },\r\n      wxShare() {\r\n        wx.ready(() => {\r\n          let shareData = {\r\n            title: this.detail.share_title,\r\n            desc: this.detail.share_subtitle, //这里请特别注意是要去除html\r\n            link: this.detail.share_info.share_url || `http://youya.chuncom.com/youya-h5/?type=1&id=${this.detail.id}&share_id=0`,\r\n            imgUrl: this.detail.share_image || \"http://youya.chuncom.com/youya-h5/img/logo.png\"\r\n          }\r\n          if (wx.onMenuShareAppMessage) { //微信文档中提到这两个接口即将弃用，故判断\r\n            wx.onMenuShareAppMessage(shareData); //1.0 分享到朋友\r\n            wx.onMenuShareTimeline(shareData); //1.0分享到朋友圈\r\n          } else {\r\n            wx.updateAppMessageShareData(shareData); //1.4 分享到朋友\r\n            wx.updateTimelineShareData(shareData); //1.4分享到朋友圈\r\n          }\r\n          wx.error(function(res) {\r\n            // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\r\n            // alert(\"errorMSG:\" + res)\r\n            console.log(\"errorMSG:\" + res);\r\n          });\r\n        })\r\n      },\r\n    },\r\n    created() {\r\n      this.getData()\r\n      this.getSDK()\r\n      this.getUserInfo()\r\n      this.add();\r\n    },\r\n    mounted() {}\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .container {\r\n    padding: 15px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=5bfd04b2&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=5bfd04b2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bfd04b2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=5bfd04b2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=5bfd04b2&lang=less&scoped=true&\""],"sourceRoot":""}