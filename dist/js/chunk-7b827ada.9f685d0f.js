(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b827ada"],{3364:function(e,t,a){},"3ad6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container",domProps:{innerHTML:e._s(e.detail.text)}}),e.detail.share_info?a("div",{staticClass:"flex flex-column flex-center flex-align-center"},[a("div",{staticClass:"fz-13 c6"},[e._v("联系微信")]),a("img",{staticStyle:{width:"30vw",height:"30vw"},attrs:{src:e.detail.share_info.with_guest.qr_card,alt:""}}),a("div",{staticClass:"fz-13 c6"},[e._v("优雅传播者："+e._s(e.detail.share_info.with_guest.nick_name))]),a("div",{staticClass:"fz-13 c6"},[e._v("电话："+e._s(e.detail.share_info.with_guest.phone_contact))]),a("div",{staticClass:"fz-12 c9"},[e._v("长按识别二维码添加微信")])]):e._e()])},r=[],i=(a("163d"),a("b449"),a("17d6")),s=a("00ca"),o=a.n(s),c={components:{},props:{},data:function(){return{detail:"",share_id:"",share_info:"",userInfo:{}}},watch:{},computed:{},methods:{getUserInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/user");case 2:t=e.sent,a=t.code,n=t.data,t.message,0==a?(this.userInfo=n,3==n.role&&(this.share_id=n.id)):401==a&&(this.isBuy=!1,this.$dialog.confirm({title:"提示",message:"您还未授权登录，是否前往授权？"}).then((function(e){window.location.href="http://youya.chuncom.com/user/authorization?url=".concat(encodeURIComponent(window.location.href))})).catch((function(e){})));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),add:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$route.query.share_id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.axios.post("/user/superior/add",{superior_id:this.$route.query.share_id});case 4:t=e.sent,a=t.code,0==a&&window.console.log("绑定成功");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$toast.loading({messages:"加载中..."}),!this.$route.query.share_id){e.next=10;break}return e.next=4,axios.get("/article/detail?id=".concat(this.$route.query.id,"&share_id=").concat(this.share_id||this.$route.query.share_id));case 4:t=e.sent,a=t.code,n=t.data,r=t.message,e.next=16;break;case 10:return e.next=12,axios.get("/article/detail?id=".concat(this.$route.query.id));case 12:i=e.sent,a=i.code,n=i.data,r=i.message;case 16:0==a?(this.$toast.clear(),this.detail=n,document.title=n.title,this.wxShare()):this.$toast.fail(r);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSDK:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=encodeURIComponent(window.location.href),e.next=3,axios.get("/config/jsjdk?url="+t);case 3:a=e.sent,n=a.data,r=a.code,a.message,0==r&&o.a.config({debug:!1,appId:n.appId,timestamp:Number(n.timestamp),nonceStr:n.nonceStr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData"]});case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),wxShare:function(){var e=this;o.a.ready((function(){var t={title:e.detail.share_title,desc:e.detail.share_subtitle,link:e.detail.share_info.share_url||"http://youya.chuncom.com/youya-h5/?type=1&id=".concat(e.detail.id,"&share_id=0"),imgUrl:e.detail.share_image||"http://youya.chuncom.com/youya-h5/img/logo.png"};o.a.onMenuShareAppMessage?(o.a.onMenuShareAppMessage(t),o.a.onMenuShareTimeline(t)):(o.a.updateAppMessageShareData(t),o.a.updateTimelineShareData(t)),o.a.error((function(e){console.log("errorMSG:"+e)}))}))}},created:function(){this.getData(),this.getSDK(),this.getUserInfo(),this.add()},mounted:function(){}},u=c,d=(a("5c17"),a("e90a")),h=Object(d["a"])(u,n,r,!1,null,"5bfd04b2",null);t["default"]=h.exports},"5c17":function(e,t,a){"use strict";var n=a("3364"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-7b827ada.9f685d0f.js.map