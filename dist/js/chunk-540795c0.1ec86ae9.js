(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-540795c0"],{"14fd":function(e,t,i){"use strict";i.r(t);var c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.list,(function(t,c){return e.list.length?i("div",{key:c,staticClass:"goods-item"},[i("div",{staticClass:"checkbox"},[e.changeEdit?e._e():i("van-checkbox",{attrs:{"checked-color":"#ee7063"},on:{change:e.checkedChange},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}}),e.changeEdit?i("van-checkbox",{attrs:{"checked-color":"#ee7063"},on:{change:e.checkedChange2},model:{value:t.editCkecked,callback:function(i){e.$set(t,"editCkecked",i)},expression:"item.editCkecked"}}):e._e()],1),i("img",{attrs:{src:t.with_goods.image,alt:""}}),i("div",{staticClass:"ml-10 flex flex-column flex-jus",staticStyle:{flex:"1"}},[i("div",{staticClass:"fz-15 text-hide2"},[e._v(e._s(t.with_goods.title))]),i("div",{staticClass:"flex flex-jus flex-align-end"},[i("div",{staticClass:"fz-15 text-price"},[e._v("¥"+e._s(t.with_goods.price))]),i("van-stepper",{attrs:{integer:""},model:{value:t.quantity,callback:function(i){e.$set(t,"quantity",i)},expression:"item.quantity"}})],1)])]):e._e()})),i("div",{staticClass:"footer-bar"},[e.changeEdit?e._e():i("van-checkbox",{attrs:{"icon-size":"24px","checked-color":"#ee7063"},on:{click:e.checkedChangeAll},model:{value:e.checkedAll,callback:function(t){e.checkedAll=t},expression:"checkedAll"}},[e._v("全选")]),e.changeEdit?i("van-checkbox",{attrs:{"icon-size":"24px","checked-color":"#ee7063"},on:{click:e.editCkeckedChangeAll},model:{value:e.editCkeckedAll,callback:function(t){e.editCkeckedAll=t},expression:"editCkeckedAll"}},[e._v("全选")]):e._e(),e.changeEdit?e._e():i("div",{staticClass:"flex"},[i("div",{staticClass:"btn-youya-o",on:{click:e.changeEditEvent}},[e._v("编辑")]),i("div",{staticClass:"btn-youya",on:{click:e.clearing}},[e._v("去结算")])]),e.changeEdit?i("div",{staticClass:"flex"},[i("div",{staticClass:"btn-youya-o",on:{click:e.changeEditEvent}},[e._v("完成")]),i("div",{staticClass:"btn-danger-o",on:{click:e.deleteItem}},[e._v("删除")])]):e._e()],1)],2)},n=[],s=(i("ac6a"),i("96cf"),i("3b8d")),a={components:{},props:{},data:function(){return{list:[],checkedAll:!1,editCkeckedAll:!1,changeEdit:!1}},watch:{},computed:{},methods:{getCartList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/user/mall-cart");case 2:t=e.sent,i=t.code,c=t.data,n=t.message,0==i?this.list=c:401==i?this.$toast.fail("您还未登录！"):this.$toast.fail(n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkedChange:function(e){this.checkedAll=this.list.every((function(e){return e.checked}))},checkedChange2:function(){this.editCkeckedAll=this.list.every((function(e){return e.editCkecked}))},checkedChangeAll:function(e){var t=this;this.checkedAll=!this.checkedAll,this.list.forEach((function(e){e.checked=t.checkedAll}))},editCkeckedChangeAll:function(e){var t=this;this.editCkeckedAll=!this.editCkeckedAll,this.list.forEach((function(e){e.editCkecked=t.editCkeckedAll}))},changeEditEvent:function(){this.changeEdit=!this.changeEdit},deleteItem:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.list.map((function(e){if(e.editCkecked)return e.id})),e.next=3,axios.post("/user/mall-cart/delete",{ids:t.join(",")});case 3:i=e.sent,c=i.code,n=i.message,0==c?(this.$toast.success("操作成功"),this.getCartList()):this.$toast.fail(n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearing:function(){var e=[];this.list.forEach((function(t){t.checked&&e.push({goods_id:t.goods_id,quantity:t.quantity})})),this.$router.push({name:"goods_create_order",query:{type:2,list:JSON.stringify(e)}}),console.log(e)}},created:function(){this.getCartList()},mounted:function(){}},l=a,o=(i("1afc"),i("2877")),r=Object(o["a"])(l,c,n,!1,null,"a26637c2",null);t["default"]=r.exports},"16fd":function(e,t,i){},"1afc":function(e,t,i){"use strict";var c=i("16fd"),n=i.n(c);n.a},ac6a:function(e,t,i){for(var c=i("cadf"),n=i("0d58"),s=i("2aba"),a=i("7726"),l=i("32e9"),o=i("84f2"),r=i("2b4c"),d=r("iterator"),h=r("toStringTag"),u=o.Array,k={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=n(k),g=0;g<f.length;g++){var v,C=f[g],m=k[C],p=a[C],x=p&&p.prototype;if(x&&(x[d]||l(x,d,u),x[h]||l(x,h,C),o[C]=u,m))for(v in c)x[v]||s(x,v,c[v],!0)}}}]);
//# sourceMappingURL=chunk-540795c0.1ec86ae9.js.map