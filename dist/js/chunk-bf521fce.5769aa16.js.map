{"version":3,"sources":["webpack:///./src/views/SubscribeDetail.vue?cae9","webpack:///src/views/SubscribeDetail.vue","webpack:///./src/views/SubscribeDetail.vue?89a0","webpack:///./src/views/SubscribeDetail.vue","webpack:///./src/views/SubscribeDetail.vue?2bc4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","backgroundImage","course","image","_v","_s","with_class","name","_e","_l","img","idx","key","attrs","with_guest","avatar","number_booked","start_time","staticStyle","title","address","description","number_booking","lecturer_image","lecturer_name","domProps","lecturer_detail","id","on","jump","staticRenderFns","component"],"mappings":"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","file":"js/chunk-bf521fce.5769aa16.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"plr-15 ptb-10\"},[_c('div',{staticClass:\"subscribe-item\"},[_c('div',{staticClass:\"cover\",style:({backgroundImage:'url('+_vm.course.image+')'})},[(_vm.course.with_class)?_c('div',{staticClass:\"cate\"},[_vm._v(_vm._s(_vm.course.with_class.name))]):_vm._e(),_c('div',{staticClass:\"count\"},[_c('div',{staticClass:\"avatar\"},_vm._l((_vm.course.with_booked_user),function(img,idx){return _c('div',{key:idx},[(idx < 4)?_c('img',{attrs:{\"src\":img.with_guest.avatar,\"alt\":\"\"}}):_vm._e()])}),0),_c('div',{staticClass:\"ml-10\"},[_vm._v(_vm._s(_vm.course.number_booked || 0)+\" 人预约\")])]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.course.start_time)+\" 开课\")])]),_c('div',{staticClass:\"flex plr-5\"},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('div',{staticClass:\"title mb-5\"},[_vm._v(_vm._s(_vm.course.title))]),_c('div',{staticClass:\"address\"},[_c('van-icon',{attrs:{\"name\":\"location-o\"}}),_vm._v(\" \"+_vm._s(_vm.course.address))],1)])])])]),_c('div',{staticClass:\"bar-10\"}),_c('div',{staticClass:\"plr-15 ptb-10 \"},[_c('h2',{staticClass:\"fz-15 c3 mb-10\"},[_vm._v(\"课程简介\")]),_c('p',{staticClass:\"fz-14 c9 mb-15\"},[_vm._v(_vm._s(_vm.course.description))]),_c('div',{staticClass:\"bar-1 mb-10\"}),_c('h2',{staticClass:\"fz-15 c3 mb-10\"},[_vm._v(\"预约详情\")]),_c('div',{staticClass:\"flex flex-align-center mb-20\"},[_c('div',{staticClass:\"fz-13 c9\"},[_vm._v(\"\\n        剩余\"),_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.course.number_booking - _vm.course.number_booked || 0))]),_vm._v(\"个名额\\n      \")]),_c('div',{staticClass:\"count2\"},[_c('div',{staticClass:\"avatar\"},_vm._l((_vm.course.avatar),function(img,idx){return _c('div',{key:idx},[_c('img',{attrs:{\"src\":img,\"alt\":\"\"}})])}),0),_c('div',{staticClass:\"fz-13 c9 ml-10\"},[_c('span',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.course.number_booked || 0))]),_vm._v(\"人预约\")])])]),_c('div',{staticClass:\"bar-1 mb-10\"}),_c('h2',{staticClass:\"fz-15 c3 mb-10\"},[_vm._v(\"讲师介绍\")]),_c('div',{staticClass:\"detail\"},[_c('img',{attrs:{\"src\":_vm.course.lecturer_image,\"alt\":\"\"}}),_c('div',{staticClass:\"fz-13 c9\"},[_c('div',{staticClass:\"fz-15 text-primary\"},[_vm._v(_vm._s(_vm.course.lecturer_name||'杨晓妮'))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.course.lecturer_detail)}})])])]),_c('footer',{staticClass:\"footer-bar flex flex-center flex-align-center\"},[(_vm.course.user_apply)?_c('div',{staticClass:\"btn-youya\"},[_vm._v(\"已预约\")]):_c('div',{staticClass:\"btn-youya\",attrs:{\"data-id\":_vm.course.id},on:{\"click\":_vm.jump}},[_vm._v(\"立即预约\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"plr-15 ptb-10\">\n      <div class=\"subscribe-item\">\n        <div class=\"cover\" :style=\"{backgroundImage:'url('+course.image+')'}\">\n          <div v-if=\"course.with_class\" class=\"cate\">{{course.with_class.name}}</div>\n          <div class=\"count\">\n            <div class=\"avatar\">\n              <div v-for=\"(img,idx) in course.with_booked_user\" :key=\"idx\">\n                <img v-if=\"idx < 4\" :src=\"img.with_guest.avatar\" alt=\"\">\n              </div>\n            </div>\n            <div class=\"ml-10\">{{course.number_booked || 0}} 人预约</div>\n          </div>\n          <div class=\"time\">{{course.start_time}} 开课</div>\n        </div>\n        <div class=\"flex plr-5\">\n          <div style=\"flex:1;\">\n            <div class=\"title mb-5\">{{course.title}}</div>\n            <div class=\"address\">\n              <van-icon name=\"location-o\" /> {{course.address}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"bar-10\"></div>\n\n    <div class=\"plr-15 ptb-10 \">\n      <h2 class=\"fz-15 c3 mb-10\">课程简介</h2>\n      <p class=\"fz-14 c9 mb-15\">{{course.description}}</p>\n      <div class=\"bar-1 mb-10\"></div>\n      <h2 class=\"fz-15 c3 mb-10\">预约详情</h2>\n      <div class=\"flex flex-align-center mb-20\">\n        <div class=\"fz-13 c9\">\n          剩余<span class=\"text-primary\">{{course.number_booking - course.number_booked || 0}}</span>个名额\n        </div>\n        <div class=\"count2\">\n          <div class=\"avatar\">\n            <div v-for=\"(img,idx) in course.avatar\" :key=\"idx\">\n              <img :src=\"img\" alt=\"\">\n            </div>\n          </div>\n          <div class=\"fz-13 c9 ml-10\"><span class=\"text-primary\">{{course.number_booked || 0}}</span>人预约</div>\n        </div>\n      </div>\n      <div class=\"bar-1 mb-10\"></div>\n      <h2 class=\"fz-15 c3 mb-10\">讲师介绍</h2>\n      <div class=\"detail\">\n        <img :src=\"course.lecturer_image\" alt=\"\">\n        <div class=\"fz-13 c9\">\n          <div class=\"fz-15 text-primary\">{{course.lecturer_name||'杨晓妮'}}</div>\n          <div v-html=\"course.lecturer_detail\"></div>\n        </div>\n      </div>\n    </div>\n    <footer class=\"footer-bar flex flex-center flex-align-center\">\n        <div v-if=\"course.user_apply\" class=\"btn-youya\">已预约</div>\n        <div v-else @click=\"jump\" :data-id=\"course.id\" class=\"btn-youya\">立即预约</div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport wx from \"weixin-js-sdk\";\n  export default {\n    components: {},\n    props: {},\n    data() {\n      return {\n        course: {}\n      };\n    },\n    watch: {},\n    computed: {},\n    methods: {\n      async getSDK() {\n        // alert(location.href)\n        let href = encodeURIComponent(window.location.href)\n        let {\n          data,\n          code,\n          message\n        } = await axios.get('/config/jsjdk?url=' + href)\n        if (code == 0) {\n          wx.config({\n            debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            appId: data.appId, // 必填，公众号的唯一标识\n            timestamp: Number(data.timestamp), // 必填，生成签名的时间戳\n            nonceStr: data.nonceStr, // 必填，生成签名的随机串\n            signature: data.signature, // 必填，签名，见附录1\n            jsApiList: [\n              'onMenuShareTimeline',\n              'onMenuShareAppMessage', //1.0分享到朋友圈\n              'updateAppMessageShareData', //1.4 分享到朋友\n              'updateTimelineShareData'\n            ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\n          })\n        } else {\n          // $weui.topTips(message, 3000);\n        }\n      },\n      wxShare() {\n        wx.ready(() => {\n          let shareData = {\n            title: this.course.title,\n            desc: this.course.subtitle, //这里请特别注意是要去除html\n            link: `http://youya.chuncom.com/youya-h5/?type=4&id=${this.course.id}`,\n            imgUrl: this.course.image || \"http://youya.chuncom.com/youya-h5/img/logo.png\"\n          }\n          if (wx.onMenuShareAppMessage) { //微信文档中提到这两个接口即将弃用，故判断\n            wx.onMenuShareAppMessage(shareData); //1.0 分享到朋友\n            wx.onMenuShareTimeline(shareData); //1.0分享到朋友圈\n          } else {\n            wx.updateAppMessageShareData(shareData); //1.4 分享到朋友\n            wx.updateTimelineShareData(shareData); //1.4分享到朋友圈\n          }\n          wx.error(function(res) {\n            // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\n            // alert(\"errorMSG:\" + res)\n            console.log(\"errorMSG:\" + res);\n          });\n        })\n      },\n      async getData(){\n        this.$toast.loading({message: '加载中...'});\n        let {code,data,message} = await axios.get(`/reservation/detail?id=${this.$route.params.id}`);\n        if(code == 0){\n          this.$toast.clear()\n          this.course = data;\n        }else{\n          this.$toast.fail(message)\n        }\n      },\n      jump(e){\n        if(this.course.status == 0){\n          this.$toast.fail(\"课程未开始\")\n          return;\n        }\n        if(this.course.status == 2){\n          this.$toast.fail(\"课程已结束\")\n          return;\n        }\n        if(this.course.number_booked == this.course.number_booking){\n          this.$toast.fail(\"预约已满\")\n          return;\n        }\n        var userinfo = JSON.parse(localStorage.getItem(\"userinfo\")) || {}\n        console.log(userinfo);\n        if(!userinfo.phone || !userinfo.real_name){\n          this.$router.push({\n            path:`/binding_information`\n          })\n          return;\n        }\n        this.$router.push({name:'subscribe_auth',params:{course_id:e.currentTarget.dataset.id}})\n      }\n    },\n    created() {\n      this.getData()\n\n    },\n    mounted() {\n\n    }\n  };\n</script>\n<style lang=\"less\">\n  .subscribe-item {\n    .cover {\n      position: relative;\n      width: 345px;\n      height: 194px;\n      margin-bottom: 10px;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n      border-radius: 10px;\n\n      .cate {\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        padding: 3px 8px;\n        background-color: #fff;\n        background: linear-gradient(139deg, rgba(164, 203, 209, 1) 0%, rgba(147, 186, 193, 1) 100%);\n        border-radius: 3px;\n        font-size: 11px;\n        color: #fff;\n      }\n\n      .time {\n        position: absolute;\n        right: 10px;\n        bottom: 9px;\n        font-size: 11px;\n        color: #fff;\n      }\n\n      .count {\n        position: absolute;\n        left: 10px;\n        bottom: 9px;\n        display: flex;\n        font-size: 11px;\n        color: #fff;\n      }\n    }\n\n    .title {\n      line-height: 21px;\n      font-size: 15px;\n      color: #333;\n    }\n\n    .address {\n      line-height: 16px;\n      font-size: 12px;\n      color: #999;\n    }\n  }\n\n  .avatar {\n    display: flex;\n    width: 40px;\n\n    div {\n      width: 25%;\n    }\n\n    img {\n      width: 15px;\n      height: 15px;\n      border: 1px solid #fff;\n      border-radius: 50%;\n    }\n  }\n\n  .footer-bar {\n    box-shadow: 0px 0px 5px 0px rgba(238, 238, 238, 1);\n  }\n\n  .count2 {\n    display: flex;\n    margin-left: 10px;\n    padding-left: 15px;\n    border-left: 1px solid #eee;\n  }\n\n  .btn-youya {\n    width: 260px;\n    height: 40px;\n    line-height: 40px;\n    background: linear-gradient(143deg, rgba(157, 195, 230, 1) 0%, rgba(131, 179, 219, 1) 100%);\n    border-radius: 20px;\n    color: #fff;\n    font-size: 15px;\n    text-align: center;\n    box-shadow: 1px 5px 6px rgba(131, 179, 219, .2);\n  }\n\n  .detail {\n    display: flex;\n    align-items: flex-start;\n\n    >img {\n      width: 90px;\n    }\n\n    >div {\n      flex: 1;\n      margin-left: 10px;\n    }\n\n    p {\n      line-height: 22px;\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribeDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribeDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubscribeDetail.vue?vue&type=template&id=79156f68&\"\nimport script from \"./SubscribeDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SubscribeDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubscribeDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribeDetail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubscribeDetail.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}