(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44f30842"],{"02f4":function(t,e,n){var r=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,s,c=String(a(e)),o=r(n),u=c.length;return o<0||o>=u?t?"":void 0:(i=c.charCodeAt(o),i<55296||i>56319||o+1===u||(s=c.charCodeAt(o+1))<56320||s>57343?t?c.charAt(o):i:t?c.slice(o,o+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"17d8":function(t,e,n){},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),a=n("32e9"),i=n("79e5"),s=n("be13"),c=n("2b4c"),o=n("520a"),u=c("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=c(t),p=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),v=p?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!e})):void 0;if(!p||!v||"replace"===t&&!l||"split"===t&&!f){var g=/./[d],h=n(s,d,""[t],(function(t,e,n,r,a){return e.exec===o?p&&!a?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=h[0],x=h[1];r(String.prototype,t,m),a(RegExp.prototype,d,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},"520a":function(t,e,n){"use strict";var r=n("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,c="lastIndex",o=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[c]||0!==e[c]}(),u=void 0!==/()??/.exec("")[1],l=o||u;l&&(s=function(t){var e,n,s,l,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),o&&(e=f[c]),s=a.call(f,t),o&&s&&(f[c]=f.global?s.index+s[0].length:e),u&&s&&s.length>1&&i.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"988a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-15"},[n("div",{staticClass:"catalogue"},[n("img",{staticClass:"thumb",attrs:{src:t.detail.image,alt:""}}),n("div",{staticClass:"title"},[n("div",{staticClass:"fz-16 c3"},[t._v(t._s(t.detail.name))]),n("div",{staticClass:"fz-16 text-price"},[t._v("¥"+t._s(t.detail.bug_info.price))])])]),n("ul",{staticClass:"cell-group"},[t._m(0),n("li",{staticClass:"cell"},[n("div",{staticClass:"cell__title"},[t._v("商品金额")]),n("div",{staticClass:"cell__value"},[t._v("￥"+t._s(t.detail.bug_info.price))])])]),n("van-popup",{attrs:{round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"xieyi-box"},[n("div",{staticClass:"title"},[t._v("购买协议")]),n("div",{staticClass:"content-box"},[n("div",{staticClass:"mb-10 fz-15 c6",domProps:{innerHTML:t._s(t.UPGRADE_SERVICE_AGREEMENT.value)}}),n("div",{staticClass:"flex flex-align-center"},[n("div",{staticClass:"checked",class:t.flag?"on":"",on:{click:function(e){t.flag=!t.flag}}}),n("div",{staticClass:"fz-14 c9"},[t._v("\n            同意并阅读\n            "),n("span",{staticClass:"text-primary"},[t._v("《购买协议》")])])])]),n("div",{staticClass:"btns"},[n("div",{staticClass:"btn-o",on:{click:function(e){t.show=!1}}},[t._v("关闭")]),n("div",{staticClass:"btn",class:t.flag?"":"disable",on:{click:t.confirmXY}},[t._v("确定")])])])]),n("footer",{staticClass:"footer-bar flex flex-align-center"},[t._m(1),n("div",{staticClass:"price"},[n("span",{staticClass:"fz-15 text-price fw-700"},[t._v("¥"+t._s(t._f("toF")(t.detail.bug_info.price)))])]),n("div",{staticClass:"btn-youya",on:{click:t.confim}},[t._v("去支付")])])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"cell"},[n("div",{staticClass:"cell__title"},[t._v("支付方式")]),n("div",{staticClass:"cell__value"},[t._v("微信支付")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tips"},[n("span",{staticClass:"text-price"},[t._v("*")]),t._v("温馨提示：课程售出后，不支持退款哦\n    ")])}],i=(n("c5f6"),n("a481"),n("96cf"),n("1da1")),s=n("18a0"),c=n.n(s),o={components:{},props:{},data:function(){return{show:!1,flag:!1,couponCode:"",discounts:!1,isShowCouponModel:!1,detail:{},coupon:{},UPGRADE_SERVICE_AGREEMENT:{},loading:!1}},watch:{},computed:{},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$toast.loading({message:"加载中..."}),t.next=3,window.axios.get("/user/upgrade/info",{params:{info_id:this.$route.query.id}});case 3:e=t.sent,n=e.code,r=e.data,a=e.message,0==n?(this.$toast.clear(),this.detail=r):this.$toast.fail(a);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getXiyi:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/config/detail",{params:{key:"UPGRADE_SERVICE_AGREEMENT"}});case 2:e=t.sent,n=e.code,r=e.data,a=e.message,0==n?this.UPGRADE_SERVICE_AGREEMENT=r:window.console.log(a);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confim:function(){1==this.detail.bug_info.protocol_show?this.show=!0:this.createOrder()},confirmXY:function(){this.flag?this.createOrder():this.$toast("请阅读协议并同意协议")},createOrder:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.next=5,window.axios.post("/user/upgrade/order",{upgrade_id:this.detail.bug_info.id});case 5:e=t.sent,n=e.code,r=e.data,a=e.message,this.loading=!1,0==n?this.payTest(r.id):(window.console.error(a),this.$toast.fail(a));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pay:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.get("/user/upgrade/order-pay?order_id="+e);case 2:n=t.sent,r=n.data,a=n.code,i=n.message,0==a?c.a.chooseWXPay({timestamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:r.signType,paySign:r.paySign,success:function(t){s.$toast.success("升级成功"),setTimeout((function(){s.$router.replace("/upgrade_feedback?id="+e)}),1500)},fail:function(t){s.$toast.fail("支付失败")}}):this.$toast.fail(i);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),payTest:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.axios.post("/user/upgrade/order-payed",{order_id:e});case 2:n=t.sent,r=n.code,a=n.data,i=n.message,0==r?(window.console.log(a),this.$toast.success("升级成功"),setTimeout((function(){s.$router.replace("/upgrade_feedback?id="+e)}),1500)):window.console.error(i);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getSDK:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=encodeURIComponent(window.location.href),t.next=3,window.axios.get("/config/jsjdk?url="+e);case 3:n=t.sent,r=n.data,a=n.code,n.message,0==a&&c.a.config({debug:!1,appId:r.appId,timestamp:Number(r.timestamp),nonceStr:r.nonceStr,signature:r.signature,jsApiList:["chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData"]});case 8:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getData(),this.getSDK(),this.getXiyi()},mounted:function(){},filters:{toF:function(t){var e=Number(t);return isNaN(e)?"错误参数":e<0?"0.00":e.toFixed(2)}}},u=o,l=(n("ee00"),n("2877")),f=Object(l["a"])(u,r,a,!1,null,null,null);e["default"]=f.exports},a481:function(t,e,n){"use strict";var r=n("cb7c"),a=n("4bf8"),i=n("9def"),s=n("4588"),c=n("0390"),o=n("5f1b"),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,g){return[function(r,a){var i=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,i,a):n.call(String(i),r,a)},function(t,e){var a=g(n,t,this,e);if(a.done)return a.value;var f=r(t),d=String(this),p="function"===typeof e;p||(e=String(e));var m=f.global;if(m){var x=f.unicode;f.lastIndex=0}var w=[];while(1){var b=o(f,d);if(null===b)break;if(w.push(b),!m)break;var _=String(b[0]);""===_&&(f.lastIndex=c(d,i(f.lastIndex),x))}for(var C="",y=0,E=0;E<w.length;E++){b=w[E];for(var R=String(b[0]),S=u(l(s(b.index),d.length),0),k=[],$=1;$<b.length;$++)k.push(v(b[$]));var A=b.groups;if(p){var T=[R].concat(k,S,d);void 0!==A&&T.push(A);var M=String(e.apply(void 0,T))}else M=h(R,d,S,k,A,e);S>=y&&(C+=d.slice(y,S)+M,y=S+R.length)}return C+d.slice(y)}];function h(t,e,r,i,s,c){var o=r+t.length,u=i.length,l=p;return void 0!==s&&(s=a(s),l=d),n.call(c,l,(function(n,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(o);case"<":c=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return n;if(l>u){var d=f(l/10);return 0===d?n:d<=u?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):n}c=i[l-1]}return void 0===c?"":c}))}}))},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},ee00:function(t,e,n){"use strict";var r=n("17d8"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-44f30842.0adcbe46.js.map